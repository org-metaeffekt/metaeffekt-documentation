> [Documentation](../../README.md) >
> [Vulnerability Management](../vulnerability-management.md) >
> Vulnerability Data Mirror

# Vulnerability Data Mirror

The purpose of the data mirror is to download data from a variety of vulnerability data sources into a local
directory and create an index using [Lucene Index](https://lucene.apache.org) from it.
These indices are purpose-built for specific scenarios that appear in the inventory enrichment,
meaning there may be multiple indices built from a single download, or multiple downloads merged into a single index.

This is done in order to reduce the amount of requests that are made during inventory enrichment to not only increase
performance, but also to prevent tracing of activities by data providers or via networks tracking.

A detailed list of all available downloads and indices can be found in the following pages:

- [Downloaders](download.md)
- [Indexers](index.md)

## Execution

The `data-mirror` goal on the `ae-mirror-plugin` can be executed in the Maven build lifecycle.
In order to execute a certain downloader or indexer, the corresponding parameter must be mentioned in the configuration.
The example configuration below consists of these parts:

- **General Configuration**: Contains the path to the mirror directory and optional proxy settings
  (leave empty if not needed).
- **Downloads**: All downloads that should run.
  Merely mentioning the downloader in a self-closing tag is enough to trigger it.
  Additional configuration can be provided within the tag, such as downloader-specific settings or resource locations.
  Some downloads, like the NVD download, may require an API key to be configured in order to work.
- **Indexers**: All indexers that should run.
  These usually don't provide any additional configuration, so they are just mentioned in a self-closing tag.

The individual maven property names for each downloader and indexer can be found in the detailed downloader
descriptions.

```xml

<plugins>
    <plugin>
        <groupId>com.metaeffekt.artifact.analysis</groupId>
        <artifactId>ae-mirror-plugin</artifactId>
        <version>${ae.artifact.analysis.version}</version>

        <executions>
            <execution>
                <id>data-mirror</id>
                <goals>
                    <goal>data-mirror</goal>
                </goals>

                <configuration>
                    <!-- General Configuration -->
                    <mirrorDirectory>${database.path}</mirrorDirectory>

                    <proxyScheme>${proxy.scheme}</proxyScheme>
                    <proxyHost>${proxy.host}</proxyHost>
                    <proxyUsername>${proxy.user}</proxyUsername>
                    <proxyPassword>${proxy.pass}</proxyPassword>
                    <proxyPort>${proxy.port}</proxyPort>

                    <!-- Downloads -->
                    <epssDownload/>

                    <githubAdvisorDownload>
                        <useGitCommand>true</useGitCommand>
                    </githubAdvisorDownload>

                    <certSeiDownload>
                        <resourceLocations>
                            <!-- Summary URL for a given year.
                                 - %s Summary year (example: 2020) -->
                            <SUMMARY_API_URL>https://kb.cert.org/vuls/api/%d/summary/</SUMMARY_API_URL>
                            <!-- URL for a certain note.
                                 - %s Note Identifier (example: 257161) -->
                            <NOTES_API_URL>https://kb.cert.org/vuls/api/%s/</NOTES_API_URL>
                        </resourceLocations>
                    </certSeiDownload>

                    <!-- Indexers -->
                    <epssIndex/>
                    <githubAdvisorIndex/>
                    <certSeiAdvisorIndex/>
                </configuration>
            </execution>
        </executions>
    </plugin>
</plugins>
```
