package com.metaeffekt.documentation.domain;

import lombok.RequiredArgsConstructor;

import java.util.Optional;

@RequiredArgsConstructor
public class MojoMetadata {

    private final DocumentedType documentedType;

    public String getGoal() {
        // @Mojo(name="...")
        final Optional<String> annotationValue = documentedType.getAnnotationStringValue("Mojo", "name");
        if (annotationValue.isPresent()) {
            return annotationValue.get();
        }

        // JavaDoc @goal
        return documentedType.getJavadocTagValue("goal").orElse(null);
    }

    public boolean isMojo() {
        return getGoal() != null;
    }
}